<html>
<head>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <title>History in These Streets - The Factory at BAVC</title>
  <style type="text/css">
    html, body {
      width: 100%;
      height: 100%;
    }
    .showoff img:hover {
      z-index: 50;
      -webkit-transform: scale(1.1);
      -moz-transform: scale(1.1);
      -o-transform: scale(1.1);
    }
    .showbox {
    }
    .showbox {
      position: relative;
      width: 150px;
      height: 150px;
      overflow: hidden;
      text-align: center;
    }
    .showbox img:hover {
      cursor: pointer;
    }
    .showbox img {
      position: relative;
      height: 150px;
      top: 0px;
      -webkit-transition: all .5s ease-in-out;
      -moz-transition: all .5s ease-in-out;
      -o-transition: all .5s ease-in-out;
    }
    #lightbox {
      width: 100%;
      height: 100%;
      background: rgba(32,32,32,0.7);
      text-align: center;
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: 999999;
      display: none;
    }
    #lightbox img {
      position: relative;
      top: 20px;
    }
    #lightbox img:hover {
      cursor: pointer;
    }
  </style>
  <script src="../popcorn-js/popcorn.js"></script>
  <script src="../popcorn-js/popcorn.soundcloud.js"></script>
  <script src="../popcorn-js/popcorn.video.js"></script>
  <script src="../popcorn-js/popcorn.footnote.js"></script>
  <script src="../popcorn-js/popcorn.facebook.js"></script>
  <script src="js/popcorn.googlestreets.js"></script>
  <script>
// PLUGIN: IMAGE

(function (Popcorn) {

  Popcorn.plugin( "image", {
      manifest: {
        about:{
          name: "Popcorn image Plugin",
          version: "0.1",
          author: "Scott Downe",
          website: "http://scottdowne.wordpress.com/"
        },
        options: {
          start: {
            elem: "input",
            type: "number",
            label: "In"
          },
          end: {
            elem: "input",
            type: "number",
            label: "Out"
          },
          target: "image-container",
          src: {
            elem: "input", 
            type: "text",   
            label: "Source URL"
          }
        }
      },
      _setup: function( options ) {
        var img = document.createElement( "img" );

        options.link = document.createElement( "a" );
        options.link.style.position = "relative";
        options.link.style.textDecoration = "none";

        if ( document.getElementById( options.target ) ) {
          // add the widget's div to the target div
          document.getElementById( options.target ).appendChild( options.link );
        }

        img.addEventListener( "load", function() {

          // borders look really bad, if someone wants it they can put it on their div target
          img.style.borderStyle = "none";
          
          if ( options.href ) {
            options.link.href = options.href;
          }

          options.link.target = "_blank";

          var fontHeight = ( img.height / 12 ) + "px", 
              divText = document.createElement( "div" );
          
          Popcorn.extend( divText.style, {

            color: "black",
            fontSize: fontHeight,
            fontWeight: "bold",
            position: "relative",
            textAlign: "center",
            width: img.width + "px",
            zIndex: "10"
          });

          divText.innerHTML = options.text || "";
          options.link.appendChild( divText );
          options.link.appendChild( img );
          divText.style.top = ( img.height / 2 ) - ( divText.offsetHeight / 2 ) + "px"; 
          options.link.style.display = "none";
        }, false );

        img.src = options.src;
        img.addEventListener( 'click', function( e ) {
          var lightbox = document.getElementById('lightbox');
          lightbox.innerHTML = "";
          var lightboxImage = document.createElement('img');
          lightboxImage.src = options.src;
          lightbox.appendChild( lightboxImage );
          lightbox.style.display = "block";
          lightboxImage.addEventListener( 'click', function( e ) {
            lightbox.innerHTML = "";
            lightbox.style.display = "none";
          }, false );
        }, false );
      },

      /**
       * @member image 
       * The start function will be executed when the currentTime 
       * of the video  reaches the start time provided by the 
       * options variable
       */
      start: function( event, options ) {
        options.link.style.display = "block";
      },
      /**
       * @member image 
       * The end function will be executed when the currentTime 
       * of the video  reaches the end time provided by the 
       * options variable
       */
      end: function( event, options ) {
        options.link.style.display = "none";
      },
      _teardown: function( options ) {
        document.getElementById( options.target ) && document.getElementById( options.target ).removeChild( options.link );
      }
  });
})(Popcorn);
  </script>
</head>
<body>




<div id="topbar">
		<!-- FACTORY SPECIFIC -->
  <img src="factory.png" class="factory">
		<!-- FACTORY SPECIFIC -->

  <div class="toptext">History in these streets</div>
  <div id="chapter_title" data-butter="target"></div>
</div>

<div id="tour_area" data-butter="target">
</div>
<!-- Sidebar -->

<div id="additional">
	<div class="toptext">
	on-site photos
	</div>
	<div id="image1" class="showbox showoff" data-butter="target"></div>
	<div id="image2" class="showbox showoff" data-butter="target"></div>
	<div id="image3" class="showbox showoff" data-butter="target"></div>
	<div id="image4" class="showbox showoff" data-butter="target"></div>
	
</div>
<!-- End sidebar -->

<div id="timeline_area">
  <div id="narration" data-butter="media" data-butter-soundcloud="http://soundcloud.com/huey-p-newton-project/huey">
  </div>
</div>

<div id="footernav">
Watch the doc - Learn more - Contact
</div>

<div id="lightbox">
</div>

</body>
</html>
